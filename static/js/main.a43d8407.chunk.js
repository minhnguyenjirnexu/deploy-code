(this["webpackJsonpjirnexu-do"]=this["webpackJsonpjirnexu-do"]||[]).push([[0],{52:function(e,t,n){e.exports=n(67)},57:function(e,t,n){},58:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(47),o=n.n(i),c=(n(57),n(35)),l=n(72),s=(n(58),n(50)),u=n(15),d=n(21),m=n(22),h=n(25),p=n(23),f=n(26),g=n(42),b=n(13);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var y=function(e){console&&console.groupCollapsed&&console.log&&console.groupEnd&&"test"!==Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_MODE&&(console.group("[MachineTransition]: "),console.log(e.value,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)),console.groupEnd())},O=function(e,t,n,a,r){if(0!==e){var i=Math.pow(1+e,t);return n*i*e/(i-1)}return 0},E=function(e){return!!(e&&e.actions&&e.actions.length>0)&&e.actions.findIndex((function(e){return"xstate.start"===e.type}))>-1};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(e,t){return k(e,t).name},k=function(e,t){var n={};if(E(e))return n;if(e&&"undefined"!=typeof e&&null!==t){var a=!0,r=!1,i=void 0;try{for(var o,c=e.toStrings()[Symbol.iterator]();!(a=(o=c.next()).done);a=!0){var l=o.value,s=l.split("."),u=t.parent?1:2;if(s.length>u){var d=t.machine.id,m=e.meta;n=N(n,d,l,m,s)}else Object.assign(n,w({},e.meta[t.machine.id+"."+l],{stateId:l}))}}catch(h){r=!0,i=h}finally{try{a||null==c.return||c.return()}finally{if(r)throw i}}}return n},N=function(e,t,n,a,r){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=i?4:3,c=i?n:t+"."+n;if(r.length>o){r.pop();var l=r.join("."),s=e.child;if(s&&s.length){var u=s.findIndex((function(e){return e.stateId===l})),d=s[u];d&&(-1===Object.keys(d).indexOf("child")?d.child=[w({},a[c],{stateId:n})]:d.child=[].concat(Object(g.a)(d.child),[w({},a[c],{stateId:n})]))}}else-1===Object.keys(e).indexOf("child")?e.child=[w({},a[c],{stateId:n})]:e.child=[].concat(Object(g.a)(e.child),[w({},a[c],{stateId:n})]);return e},C=function(e,t){var n={};if(e&&"undefined"!==typeof e){var a=Object.keys(e.meta).filter((function(e){return e!==t.machine.id})),r=!0,i=!1,o=void 0;try{for(var c,l=a[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var s=c.value,u=s.split(".");if(u.length>3){var d=t.machine.id,m=e.meta;n=N(n,d,s,m,u,!0)}else Object.assign(n,w({},e.meta[s],{stateId:s}))}}catch(h){i=!0,o=h}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}}return n},x=function(e,t){return k(e,t).buttonName&&""!==k(e,t).buttonName?k(e,t).buttonName:"Continue"},T=n(19),D={MY:/(\+?6?0)[0-9]-*[0-9-.\s]{6,9}/,SG:/[6|8|9]\d{7}|\+65[6|8|9]\d{7}|\+65\s[6|8|9]\d{7}/,VN:/^(\+?(84|0))(\d{9}|9\d{8})$/},S={MY:/(([[1-9]{2})(0[1-9]|1[0-2])(0[1-9]|[12][0-9]|3[01]))-([0-9]{2})-([0-9]{4})/,SG:/^[STFG]\d{7}[A-Z]$/,VN:/(^(?:[1-9]|0[1-9]|1[0-9]|20|2[0-9]|30|3[0-8])[0-9]{7}$)|(^[0-9][0-9]?[0-9]{10}$)/},I=31536e6;function V(e){return/^(([^<>()\\.,;:\s@"]+(\.[^<>()\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.toLowerCase())}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"VN";return D[t].test(e.toLowerCase())}var L=r.a.forwardRef((function(e,t){var n=e.meta,i=Object(a.useState)(e.defaultValue&&""!==e.defaultValue?URL.revokeObjectURL(e.defaultValue):""),o=Object(T.a)(i,2),c=o[0],l=o[1];return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"offset-md-3 col-md-6"},r.a.createElement("div",{className:"form-group files"},r.a.createElement("label",{htmlFor:n.stateId},n.title),r.a.createElement("input",{type:"file",className:"form-control",ref:t,onChange:function(t){l(URL.createObjectURL(t.target.files[0])),e.service.send("UPDATE_FORM_VALUE",{field:n.stateId,value:t.target.files[0]})}}),c&&""!==c?r.a.createElement("img",{src:c,style:{maxWidth:"100%"},alt:n.title}):null))))})),U=r.a.forwardRef((function(e,t){var n=e.meta,i=e.defaultValue,o=n.values,c=Object(a.useState)(i||o[0].value),l=Object(T.a)(c,2),s=l[0],u=l[1];return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},o.map((function(e,n){return r.a.createElement("div",{className:"radio",key:n},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",value:e.value,onChange:function(t){return u(e.value)},checked:e.value===s,ref:t}),e.label))}))))})),A=["text","search","url","tel","email","password","datepickers","range","color"],_=["off","on","name","honorific-prefix","given-name","additional-name","family-name","honorific-suffic","nickname","email","username","new-password","current-password","one-time-code","organization-title","organization","street-address","address-line1","address-line2","address-line3","address-level4","address-level3","address-level2","address-level1","country","country-name","postal-code","cc-name","cc-given-name","cc-addition-name","cc-family-name","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc","cc-type","transaction-currency","transaction-amount","language","bday","bday-day","bday-month","bday-year","sex","tel","tel-country-code","tel-national","tel-area-code","tel-local","tel-extension","impp","url","photo"],M={required:"This field is required",email:"Please enter a valid email address",phoneNumber:"Please enter a valid phone number",minLength:"Please enter at least {0} characters",maxlength:"Please enter no more than {0} characters",accept:"Please upload a valid file type: {0}"},F=r.a.forwardRef((function(e,t){var n=Object(a.useState)(""),i=Object(T.a)(n,2),o=i[0],c=i[1],l=Object(a.useState)(""),s=Object(T.a)(l,2),u=s[0],d=s[1],m=e.type||"text";if("file"===m)return r.a.createElement(L,Object.assign({},e,{ref:t}));if("radio"===m)return r.a.createElement(U,Object.assign({},e,{ref:t}));var h=e.meta.validate||{},p={};return A.indexOf(m)>-1&&(p.autoComplete=function(e,t){var n="on";return _.indexOf(e)>-1&&(n=e),_.indexOf(t)>-1&&(n=t),n}(m,e.meta.autocomplete||"")),h.optional||(p.required=!0),h.minLength&&(p.minLength=h.minLength),h.maxLength&&(p.maxLength=h.maxLength),e.placeholder&&""!==e.placeholder&&(p.placeholder=e.placeholder),e.name&&""!==e.name&&(p.name=e.name),r.a.createElement("label",{htmlFor:e.name},r.a.createElement("input",Object.assign({type:m,onChange:function(t){d(t.target.value);var n=function(e,t,n){var a=t.validate||{};if(!a.optional&&""===e)return{isValid:!1,errorMessage:M.required};if("email"===n&&!V(e))return{isValid:!1,errorMessage:M.email};if("tel"===n&&!R(e,t.countryCode||"VN"))return{isValid:!1,errorMessage:M.phoneNumber};return a.minLength&&"undefined"!==typeof a.minLength&&e.length<a.minLength?{isValid:!1,errorMessage:M.minLength.replace("{0}",a.minLength.toString())}:a.maxLength&&"undefined"!==typeof a.maxLength&&e.length>a.maxLength?{isValid:!1,errorMessage:M.maxlength.replace("{0}",a.maxLength.toString())}:{isValid:!0,errorMessage:""}}(t.target.value,e.meta,m),a=n.isValid,r=n.errorMessage;c(a?"":r)},ref:t,defaultValue:e.defaultValue,style:{borderColor:""===u?"initial":""!==o?"red":"green"}},p,{id:e.name})),r.a.createElement("br",null),r.a.createElement("span",null,o))})),B=function(e){return r.a.createElement("span",{style:{fontWeight:700,fontSize:20}},Math.round(e.monthlyPay).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," VN\u0110")},H=r.a.forwardRef((function(e,t){var n=e.elem,a=e.getCurrentStateName,i=e.currentFormValue;if(n.child&&n.child.length>0){if(n.showWhen){var o=n.showWhen.field,c=n.showWhen.value;if(!i||i[o]!==c)return null}return r.a.createElement("div",null,r.a.createElement("p",null,n.title),n.child.map((function(e,n){return r.a.createElement("div",{key:e.stateId},r.a.createElement("label",{htmlFor:e.stateId},e.title),e.options?r.a.createElement("div",null,r.a.createElement("select",{ref:t?t[e.stateId]:r.a.createRef(),name:e.stateId,defaultValue:a(i,e.stateId),onChange:(e.onChange,function(e){}),id:e.stateId},e.options.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)})))):!1!==e.hasInput?r.a.createElement(F,{ref:t?t[e.stateId]:r.a.createRef(),defaultValue:a(i,e.stateId),name:e.stateId,type:e.type||"text",placeholder:e.placeholder,meta:e}):null)})))}return null})),X=function(e,t){if(!e)return"";var n=t.split("."),a="";n.length>4&&(a=n[n.length-2]);var r=n[n.length-1];return""!==a?e[a][r]:e[r]},q=r.a.forwardRef((function(e,t){var n=e.current,i=e.service,o=e.isHistory;if(n.actions&&1===n.actions.length&&"xstate.start"===n.actions[0].type)return null;var c=o?C(n,i):k(n,i),l=n.context?n.context.formValue[e.name]:null,s=Object(a.useState)(n.context.monthlyPay||0),u=Object(T.a)(s,2),d=u[0],m=u[1];return c.child&&c.child.length?c.child.map((function(n,a){return n?r.a.createElement("p",{key:n.stateId},r.a.createElement("legend",null,n.child&&n.child.length?"":n.title),r.a.createElement(H,Object.assign({},e,{meta:k,elem:n,getCurrentStateName:X,currentFormValue:l,ref:t[n.stateId]})),n.child?null:n.options?r.a.createElement("label",{htmlFor:n.stateId},r.a.createElement("select",{ref:t?t[n.stateId]:r.a.createRef(),name:n.stateId,defaultValue:X(l,n.stateId),onChange:n.onChange?function(t){e.service.send(n.name,{value:t.currentTarget.value});var a=e.service.send(n.onChange.name);m(a.context[n.onChange.field])}:function(t){e.service.send("UPDATE_FORM_VALUE",{field:n.stateId,value:t.currentTarget.value})},id:n.stateId},n.options.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)})))):!1!==n.hasInput?r.a.createElement(F,Object.assign({ref:t?t[n.stateId]:r.a.createRef(),defaultValue:X(l,n.stateId),name:n.stateId,type:n.type||"text",placeholder:n.placeholder,meta:n},e)):n.contextValue?r.a.createElement(B,{monthlyPay:d}):null,n.child?r.a.createElement("p",null,n.hint):null):null})):null}));function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=function(e){var t=e.service,n=t&&t.parent?t.parent.machine.meta:t.machine.meta;return r.a.createElement("div",{style:G({position:"relative"},e.styles)},r.a.createElement("button",{onClick:e.onClick?e.onClick:function(){e.action?e.send(e.action):console.log()},style:n?G({backgroundColor:n.primaryColor,color:n.backgroundColor},n.button):null},e.name||"Send"),e.hideArrow?null:r.a.createElement("span",{className:"button-arrow slide-right"}))},W=n(33),$=function(){return r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("div",{id:"spinner"},r.a.createElement("div",{className:"spinner-child first"}),r.a.createElement("div",{className:"spinner-child second"}),r.a.createElement("div",{className:"spinner-child third"}),r.a.createElement("div",{className:"spinner-child fourth"})))},J=n(20),Y=n.n(J),Q=n(24);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=function(e){var t=e.current,n=e.service,a=e.childRefs,i=k(t,n),o=t.context.currentIndex,c=t.context.stacks;return r.a.createElement(K,Object.assign({},e,{onClick:function(){var e=Object(Q.a)(Y.a.mark((function e(r){var l,s;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),l=Object.keys(a).reduce((function(e,t){var n=t.split("."),r=Object.keys(a[t]);if(r.length>1){var i=a[t],o=r.reduce((function(e,t){var n=t.split(".");return ee({},e,Object(b.a)({},n[n.length-1],i[t].current?i[t].current.value:""))}),{});return ee({},e,Object(b.a)({},n[n.length-1],o))}return ee({},e,Object(b.a)({},n[n.length-1],a[t].current?a[t].current.value:""))}),{}),t&&t.context?t.context.formValue[i.name]=l:console.log(""),(s={})[i.name]={values:l,state:t},n.send(o===c.length?"CONTINUE":"NEXT",{values:s});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),name:o===c.length?x(t,n):"NEXT",styles:o>0?{flex:1}:{width:"200px"}}))},ne=function(e){var t=e.current,n=e.service,a=k(t,n),i=t.context.currentIndex,o=t.context.stacks;return r.a.createElement(K,Object.assign({},e,{onClick:function(){var e=Object(Q.a)(Y.a.mark((function e(r){var c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),(c={})[a.name]={values:t.context.formValue[a.name],state:t},n.send(i===o.length?"CONTINUE":"NEXT",{values:c});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),name:i===o.length?x(t,n):"NEXT",styles:i>0?{flex:1}:{width:"200px"}}))};function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).childRefs=void 0,n.fieldSetEnd=void 0,n.isUploadFile=void 0,n.scrollToBottom=function(){n.fieldSetEnd&&n.fieldSetEnd.scrollIntoView({behavior:"smooth"})},n._setDefaultChildRefs=function(){var e=n.props.service,t=k(e.state,e);n.childRefs=t.child&&t.child.length?t.child.reduce((function(e,t,a){var i=t.stateId;if(t.child&&t.child.length){var o=t.child.map((function(e){var t=e.stateId;return e&&e.options?{childStateId:t,ref:r.a.createRef()}:(e.type&&"file"===e.type&&(n.isUploadFile=!0),{childStateId:t,ref:r.a.createRef()})})).reduce((function(e,t){return re({},e,Object(u.a)({},t.childStateId,t.ref))}),{});e[i]=o}else t&&t.options?e[i]=r.a.createRef():(t.type&&"file"===t.type&&(n.isUploadFile=!0),e[i]=r.a.createRef());return e}),{}):{}},n.childRefs={},n.isUploadFile=!1,n._setDefaultChildRefs(),n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"componentWillUpdate",value:function(){this._setDefaultChildRefs()}},{key:"send",value:function(e,t){this.props.service.send(e,t)}},{key:"formatHint",value:function(){var e=this,t=this.props,n=t.service,a=t.current,i=k(a,n).hint;return i?Object(W.isString)(i)?i:i.map((function(t,n){return t.action?r.a.createElement("button",{key:n,onClick:function(){return e.send(t.action,{})}},t.label):r.a.createElement("span",{key:n},t.label)})):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.service,a=t.current,i=k(a,n),o=function(e,t){return k(e,t).title}(a,n),c=i.subTitle;if((!a.matches("field")||i.options)&&!n.parent)return null;if(E(a))return r.a.createElement($,null);var l=a.context.currentIndex,s=a.context.stacks,u=n.machine;return n.parent&&(u=n.parent.machine),r.a.createElement("fieldset",{name:i.name},o?r.a.createElement("legend",{style:re({},u.meta.title)},o):null,r.a.createElement("fieldset",{style:{},className:l===s.length?"field__wrapper field__wrapper-current":"field__wrapper"},c?r.a.createElement("legend",null,r.a.createElement("label",{style:re({},u.meta.subTitle),htmlFor:i.subTitle},i.subTitle)):null,r.a.createElement(q,{ref:this.childRefs,name:i.name,service:n,current:a}),this.formatHint()?r.a.createElement(r.a.Fragment,null,r.a.createElement("aside",null,this.formatHint())):null),r.a.createElement("p",{style:{display:"flex",justifyContent:l>0?"space-between":"flex-end"}},l>0?r.a.createElement(K,{onClick:function(){e.send("PREV",{})},name:"PREV",service:n,hideArrow:!0,styles:{flex:1}}):null,l>0?r.a.createElement("div",{style:{width:"10px"}}):null,this.isUploadFile?r.a.createElement(ne,this.props):r.a.createElement(te,Object.assign({},this.props,{childRefs:this.childRefs}))),r.a.createElement("div",{style:{float:"left",clear:"both"},ref:function(t){e.fieldSetEnd=t}}))}}]),t}(r.a.Component);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var le=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).childRefs=void 0,n.childRefs={},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentWillUpdate",value:function(){var e=this.props,t=e.service,n=e.history,a=C(n,t);this.childRefs=a.child&&a.child.length?a.child.reduce((function(e,t,n){var a=t.stateId;if(t.child&&t.child.length){var i=t.child.map((function(e){var t=e.stateId;return e&&e.options,{childStateId:t,ref:r.a.createRef()}})).reduce((function(e,t){return ce({},e,Object(u.a)({},t.childStateId,t.ref))}),{});e[a]=i}else t&&t.options,e[a]=r.a.createRef();return e}),{}):{}}},{key:"send",value:function(e,t){this.props.service.send(e,t)}},{key:"formatHint",value:function(){var e=this,t=this.props,n=t.history,a=t.service,i=C(n,a).hint;return i?Object(W.isString)(i)?i:i.map((function(t,n){return t.action?r.a.createElement("button",{key:n,onClick:function(){return e.send(t.action,{})}},t.label):r.a.createElement("span",{key:n},t.label)})):null}},{key:"render",value:function(){var e=this.props,t=e.service,n=e.current,a=e.history,i=e.index;if(!a||!n.matches("field")||["welcome","complete","invalid"].indexOf(a.value)>-1)return null;a.toStrings=n.toStrings;var o=n.context.currentIndex,c=C(a,t);console.log(c);var l=this.formatHint();return r.a.createElement("fieldset",{name:c.name},r.a.createElement("legend",{style:ce({},t.machine.meta.title)},c.title),r.a.createElement("fieldset",{style:{backgroundColor:o===i?"yellow":t.machine.meta.secondaryBackgroundColor,margin:"10px 0",padding:"12px",borderRadius:"6px"}},r.a.createElement("legend",{style:ce({},t.machine.meta.subTitle)},c.subTitle),r.a.createElement(q,{ref:this.childRefs,name:c.name,service:t,current:a,isHistory:!0}),l?r.a.createElement("p",null,l):null))}}]),t}(r.a.Component),se=n(36),ue=n(7),de="test"===Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_MODE,me=Object(se.a)({initial:"requesting",states:{requesting:{invoke:{id:"request-otp",src:function(){return de?new Promise((function(e){return setTimeout(e,10)})):fetch("http://localhost:3001/otp/request",{method:"post"}).then((function(e){return e.json()}))},onDone:"success",onError:"error"}},success:{type:"final"},error:{type:"final",onEntry:Object(ue.escalate)("cannot get OTP")}}}),he="test"===Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_MODE,pe=Object(se.a)({initial:"waitingForCode",states:{waitingForCode:{on:{CODE:"checkOTP"}},checkOTP:{invoke:{id:"check-otp",src:function(e){return function(e){return he?new Promise((function(e,t){return e({isValidOtp:!0})})):fetch("http://localhost:3001/otp/check/".concat(e)).then((function(e){return e.json()}))}(e)},onDone:[{target:"success",cond:function(e,t){return t.data.isValidOtp}},{target:"error"}],onError:"error"}},success:{type:"final"},error:{type:"final",onEntry:Object(ue.escalate)({isValidOtp:!1})}}}),fe="test"===Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_MODE,ge=Object(se.a)({initial:"resending",states:{resending:{invoke:{id:"resend-otp",src:function(){return fe?new Promise((function(e){return setTimeout(e,10)})):fetch("http://localhost:3001/otp/resend",{method:"post"}).then((function(e){return e.json()}))},onDone:"success",onError:"error"}},success:{type:"final"},error:{type:"final",onEntry:Object(ue.escalate)("cannot get OTP")}}}),be="test"!==Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_MODE?125e3:100,ve="test"!==Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_MODE?185e3:100,ye={after:Object(b.a)({},be,"callOTP"),on:{CONTINUE:{target:"confirming",actions:Object(ue.assign)({otp:function(e,t){return t.values.otpConfirm.values.otp}})}},meta:{title:"X\xe1c th\u1ef1c m\xe3 OTP",name:"otpConfirm",subTitle:"M\xe3 x\xe1c th\u1ef1c OTP \u0111\xe3 \u0111\u01b0\u1ee3c g\u1eedi \u0111\u1ebfn s\u1ed1 \u0111i\u1ec7n tho\u1ea1i c\u1ee7a b\u1ea1n. Vui l\xf2ng nh\u1eadp m\xe3 trong v\xf2ng 2 ph\xfat"},initial:"otp",states:{otp:{meta:{title:"",placeholder:"****",validate:{minLength:4,maxLength:4},autocomplete:"one-time-code"}}}},Oe={after:Object(b.a)({},ve,"timeout"),on:{CONTINUE:{target:"confirming",actions:"updateStacks"},RESEND:"resending"},meta:{title:"X\xe1c th\u1ef1c m\xe3 OTP",name:"otpConfirm",subTitle:"M\xe3 x\xe1c th\u1ef1c OTP \u0111\xe3 \u0111\u01b0\u1ee3c g\u1eedi th\xf4ng qua cu\u1ed9c g\u1ecdi t\u1eeb t\u1ed5ng \u0111\xe0i. Vui l\xf2ng nh\u1eadp m\xe3 trong v\xf2ng 3 ph\xfat",hint:[{label:"Kh\xf4ng nh\u1eadn \u0111\u01b0\u1ee3c OTP?"},{label:"G\u1eedi l\u1ea1i",action:"RESEND"}]},initial:"otp",states:{otp:{meta:{title:"",placeholder:"****",validate:{minLength:4,maxLength:4},autocomplete:"one-time-code"}}}},Ee=Object(se.a)({id:"otp-machine",initial:"idle",states:{idle:{on:{CODE:"asking"}},asking:{invoke:{id:"receive-otp",src:me,onDone:"otpConfirm",onError:"resending"}},resending:{invoke:{id:"resend-otp",src:ge,onDone:"otpConfirm",onError:"resending"}},confirming:{invoke:{id:"confirm-otp",src:pe,data:function(e){return"test"!==Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_MODE?e.otp:"0000"},onDone:"success",onError:"otpConfirm"},entry:Object(ue.send)("CODE",{to:"confirm-otp"})},otpConfirm:ye,callOTP:Oe,success:{type:"final"},error:{},timeout:{on:{RETRY:"asking",EXIT:{actions:Object(ue.escalate)("ERROR",{delay:1})}}}}}),je=n(4);function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Pe="test"===Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_MODE,ke=function(){var e=Object(Q.a)(Y.a.mark((function e(t){var n,a,r,i,o,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Pe){e.next=2;break}return e.abrupt("return",new Promise((function(e){return setTimeout(e,10)})));case 2:return n=new FormData,a=t.currentIndex,r=t.stacks,i=t.formValue,o=Object.keys(r[a-1])[0],c=i[o],Object.keys(c).forEach((function(e){n.append("myFiles",c[e])})),e.abrupt("return",fetch("http://localhost:3001/uploadmultiple",{method:"post",body:n}).then((function(e){return e.json()})));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=Object(se.a)({id:"upload-machine",initial:"uploading",states:{uploading:{invoke:{id:"uploading",src:function(e){return ke(e)},onDone:{actions:"updateFormValue",target:"success"},onError:"error"}},success:{type:"final"},error:{}}},{actions:{updateFormValue:Object(je.b)({formValue:function(e,t){var n=e.currentIndex,a=e.stacks,r=e.formValue,i=Object.keys(a[n-1])[0],o=r[i],c=t.data;return r[i]=Object.keys(o).reduce((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,Object(b.a)({},t,c.filter((function(e){return e.originalname===o[t].name}))[0]))}),{}),r}})}}),Ce="test"===Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_MODE,xe=Object(se.a)({id:"id-ocr",initial:"uploading",states:{uploading:{invoke:{id:"uploading",src:Ne,data:function(e){return e},onDone:"requesting"}},requesting:{entry:Object(ue.log)("on requesting"),invoke:{id:"invoke-ocr",src:function(e){return function(e){if(Ce)return new Promise((function(e){return setTimeout(e,10)}));var t=e.formValue.idCard,n=new Headers;return fetch("https://localhost:3001/id/ocr",{method:"post",body:JSON.stringify({idCard:t}),headers:n}).then((function(e){return e.json()}))}(e)},onDone:"finish",onError:{actions:Object(ue.escalate)("Cannot get ID")}}},finish:{type:"final"}}}),Te="test"===Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_MODE,De=Object(se.a)({id:"id-ocr",initial:"uploading",states:{uploading:{invoke:{id:"uploading",src:Ne,data:function(e){return e},onDone:"requesting"}},requesting:{invoke:{id:"invoke-ocr",src:function(e){return function(e){if(Te)return new Promise((function(e){return setTimeout(e,10)}));var t=e.formValue.driverLicense,n=new Headers;return fetch("https://localhost:3001/dl/ocr",{method:"post",body:JSON.stringify({url:t}),headers:n}).then((function(e){return e.json()}))}(e)},onDone:"finish",onError:{actions:Object(ue.escalate)("Cannot get information from DL")}}},finish:{type:"final"}}});function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ve=function(e,t,n){for(var a=[],r=e;r<=t;r++)a.push({label:r+" "+n,value:r});return a},Re=1e6,Le=.055,Ue=10,Ae=12,_e=24,Me=.42,Fe="parallel",Be={type:Fe,on:{CONTINUE:{target:"primaryInfo",cond:"packageValid",actions:"updateStacks"},NEXT:{actions:"next"}},meta:{title:"\u0110\u1ea7u ti\xean, s\u1ed1 ti\u1ec1n b\u1ea1n c\u1ea7n?",name:"package",buttonName:"\u0110\u1ed3ng \xfd",hint:"K\u1ebft qu\u1ea3 c\xf3 th\u1ec3 ch\xeanh l\u1ec7ch nh\u1ecf so v\u1edbi th\u1ef1c t\u1ebf"},states:{amount:{meta:{title:"Kho\u1ea3n vay",name:"UPDATE_AMOUNT",options:Ve(Ue,30,"tri\u1ec7u"),onChange:{name:"CHANGE",field:"monthlyPay"}}},tenor:{meta:{title:"K\u1ef3 h\u1ea1n",name:"UPDATE_DURATION",options:Ve(Ae,_e,"th\xe1ng"),onChange:{name:"CHANGE",field:"monthlyPay"}}},monthlyPay:{meta:{title:"Kho\u1ea3n tr\u1ea3 \u01b0\u1edbc t\xednh m\u1ed7i th\xe1ng",hasInput:!1,readOnly:!0,contextValue:"monthlyPay"}}}},He={type:Fe,on:{CONTINUE:{target:"otp",cond:"otpValid",actions:"updateStacks"},PREV:{actions:"back"},NEXT:{actions:"next"}},meta:{title:"\u0110\u1ec3 b\u1eaft \u0111\u1ea7u, h\xe3y cung c\u1ea5p th\xf4ng tin li\xean l\u1ea1c c\u1ee7a b\u1ea1n",name:"primaryInfo",buttonName:"G\u1eedi m\xe3 x\xe1c nh\u1eadn",hint:'B\u1eb1ng vi\u1ec7c nh\u1ea5n "Ti\u1ebfp t\u1ee5c", b\u1ea1n \u0111\u1ed3ng \xfd r\u1eb1ng b\u1ea1n \u0111\xe3 \u0111\u1ecdc, hi\u1ec3u r\xf5 v\xe0 \u0111\u1ed3ng \xfd v\u1edbi Ch\xednh s\xe1ch b\u1ea3o m\u1eadt v\xe0 c\xe1c \u0110i\u1ec1u ki\u1ec7n v\xe0 \u0111i\u1ec1u kho\u1ea3n c\u1ee7a ch\xfang t\xf4i'},initial:"name",states:{fullName:{meta:{title:"H\u1ecd t\xean",placeholder:"Nguy\u1ec5n V\u0103n Nam",validate:{minLength:2},autocomplete:"name"}},email:{meta:{title:"\u0110\u1ecba ch\u1ec9 email",type:"email",placeholder:"nguyenvannam@gmail.com"}},phoneNumber:{meta:{title:"\u0110i\u1ec7n tho\u1ea1i",hint:"Ch\xfang t\xf4i s\u1ebd g\u1eedi m\xe3 x\xe1c th\u1ef1c \u0111\u1ebfn s\u1ed1 \u0111i\u1ec7n tho\u1ea1i n\xe0y",type:"tel",countryCode:"VN"}},loanPurpose:{meta:{title:"M\u1ee5c \u0111\xedch vay",options:[{label:"Du l\u1ecbch",value:"travel"},{label:"\u0102n u\u1ed1ng",value:"food"},{label:"Mua s\u1eafm",value:"shopping"}]}}}},Xe={type:Fe,on:{CONTINUE:{target:"address",cond:"isEmpty",actions:"updateStacks"},PREV:{actions:"back"},NEXT:{actions:"next"}},meta:{subTitle:"H\xe3y \u0111i\u1ec1n nh\u1eefng th\xf4ng tin sau \u0111\xe2y \u0111\u1ec3 ch\xfang t\xf4i hi\u1ec3u r\xf5 b\u1ea1n h\u01a1n ",buttonName:"Ti\u1ebfp theo",name:"profile"},states:{educationLevel:{meta:{title:"Tr\xecnh \u0111\u1ed9 h\u1ecdc v\u1ea5n",options:[{label:"\u0110\u1ea1i h\u1ecdc",value:"university"},{label:"Cao \u0111\u1eb3ng",value:"colleage"}]}},maritalStatus:{meta:{title:"T\xecnh tr\u1ea1ng h\xf4n nh\xe2n",options:[{label:"K\u1ebft h\xf4n",value:"married"},{label:"\u0110\u1ed9c th\xe2n",value:"single"},{label:"Go\xe1",value:"widow"}]}},noOfDependents:{meta:{title:"S\u1ed1 ng\u01b0\u1eddi ph\u1ee5 thu\u1ed9c"}}}},qe={type:Fe,on:{CONTINUE:{target:"additionInfo",cond:"isEmpty",actions:"updateStacks"},PREV:{actions:"back"},NEXT:{actions:"next"}},meta:{subTitle:"H\xe3y \u0111i\u1ec1n \u0111\u1ecba ch\u1ec9 n\u01a1i b\u1ea1n \u0111ang c\u01b0 tr\xfa",buttonName:"Ti\u1ebfp t\u1ee5c",name:"address"},states:{city:{meta:{title:"T\u1ec9nh/Th\xe0nh Ph\u1ed1",placeholder:"Vui l\xf2ng ch\u1ecdn",autocomplete:"address-level2"}},district:{meta:{title:"Qu\u1eadn/Huy\u1ec7n",placeholder:"Vui l\xf2ng ch\u1ecdn",autocomplete:"address-level3"}},ward:{meta:{title:"Ph\u01b0\u1eddng/X\xe3",placeholder:"Vui l\xf2ng ch\u1ecdn"}},hamlet:{meta:{title:"Th\xf4n/X\xf3m/Khu ph\u1ed1",placeholder:"Vui l\xf2ng \u0111i\u1ec1n",optional:!0}},street:{meta:{title:"T\xean \u0111\u01b0\u1eddng",placeholder:"Vui l\xf2ng \u0111i\u1ec1n",optional:!0,autocomplete:"street-address"}},unitNo:{meta:{title:"S\u1ed1 nh\xe0",placeholder:"Vui l\xf2ng \u0111i\u1ec1n",optional:!0}},apartmentName:{meta:{title:"T\xean c\u0103n h\u1ed9",placeholder:"Vui l\xf2ng \u0111i\u1ec1n",optional:!0}},isPermanentAddress:{meta:{type:"radio",title:"\u0110\xe2y c\u0169ng l\xe0 \u0111\u1ecba ch\u1ec9 th\u01b0\u1eddng tr\xfa?",values:[{label:"Ch\xednh x\xe1c",value:"yes"},{label:"Kh\xf4ng ph\u1ea3i",value:"no"}]},ownership:{meta:{title:"H\xecnh th\u1ee9c s\u1edf h\u1eefu",options:[{label:"S\u1edf h\u1eefu",value:"owner"},{label:"Cho thu\xea",value:"rent"}]}},liveFrom:{meta:{title:"B\u1ea1n s\u1ed1ng t\u1ea1i \u0111\xe2y t\u1eeb",states:{month:{meta:{options:Ve(1,12,"")}},year:{meta:{options:Ve(1900,2020," nam")}}}}},homePhone:{meta:{title:"\u0110i\u1ec7n tho\u1ea1i b\xe0n",placeholder:"Vui l\xf2ng \u0111i\u1ec1n",optional:!0,type:"tel"}}}}},ze={type:Fe,on:{CONTINUE:{target:"job",cond:"isEmpty",actions:"updateStacks"},PREV:{actions:"back"},NEXT:{actions:"next"}},initial:"ownership",meta:{title:"",subTitle:"M\u1ed9t v\xe0i th\xf4ng tin b\u1ed5 sung",name:"additionInfo"},states:{ownership:{meta:{title:"H\xecnh th\u1ee9c s\u1edf h\u1eefu",options:[{label:"S\u1edf h\u1eefu",value:"owner"},{label:"Cho thu\xea",value:"rent"}]}},liveFrom:{meta:{title:"B\u1ea1n s\u1ed1ng \u1edf \u0111\xe2y t\u1eeb",states:{month:{meta:{options:Ve(1,12,"")}},year:{meta:{options:Ve(1900,2020," nam")}}}}},homePhone:{meta:{title:"\u0110i\u1ec7n tho\u1ea1i b\xe0n (n\u1ebfu c\xf3)",placeholder:"090909090",type:"tel"}}}},Ge={type:Fe,on:{CONTINUE:{target:"workplace",cond:"isEmpty",actions:"updateStacks"},PREV:{actions:"back"},NEXT:{actions:"next"}},initial:"state",meta:{title:"",name:"job"},states:{state:{meta:{title:"T\xecnh tr\u1ea1ng c\xf4ng vi\xeac",options:[{label:"L\xe0m h\u01b0\u1edfng l\u01b0\u01a1ng",value:"employee"},{label:"Ch\u1ee7 doanh nghi\u1ec7p",value:"businessOwner"},{label:"Kinh doanh h\u1ed9 gia \u0111\xecnh",value:"householdBusinessOwner"}]}},employee:{type:Fe,meta:{title:"L\xe0m h\u01b0\u1edfng l\u01b0\u01a1ng",showWhen:{field:"state",value:"employee"}},initial:"businessType",states:{businessType:{meta:{title:"Lo\u1ea1i doanh nghi\u1ec7p"}},companyName:{meta:{title:"T\xean c\xf4ng ty",autocomplete:"organization"}},industry:{meta:{title:"Ng\xe0nh kinh doanh"}},companyPhoneNumber:{meta:{title:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i c\xf4ng ty",type:"tel"}},occupation:{meta:{title:"Ch\u1ee9c v\u1ee5"}},contractType:{meta:{title:"Lo\u1ea1i h\u1ee3p \u0111\u1ed3ng"}},workingExpCurrent:{meta:{title:"S\u1ed1 n\u0103m l\xe0m vi\u1ec7c t\u1ea1i c\xf4ng ty"}}}},businessOwner:{type:Fe,meta:{title:"Ch\u1ee7 doanh nghi\u1ec7p",showWhen:{field:"state",value:"businessOwner"}},initial:"businessType",states:{businessType:{meta:{title:"Lo\u1ea1i doanh nghi\u1ec7p"}},businessName:{meta:{title:"T\xean doanh nghi\u1ec7p",autocomplete:"organization"}},industry:{meta:{title:"Ng\xe0nh ngh\u1ec1 kinh doanh"}},companyPhoneNumber:{meta:{title:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i c\xf4ng ty",type:"tel"}},noOfYearsBusiness:{meta:{title:"S\u1ed1 n\u0103m kinh doanh"}}}},householdBusinessOwner:{type:Fe,meta:{title:"Kinh doanh h\u1ed9 gia \u0111\xecnh",showWhen:{field:"state",value:"householdBusinessOwner"}},initial:"householdBusinessName",states:{householdBusinessName:{meta:{title:"T\xean doanh nghi\u1ec7p",autocomplete:"organization"}},industry:{meta:{title:"Ng\xe0nh ngh\u1ec1 kinh doanh"}},companyPhoneNumber:{meta:{title:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i doanh nghi\u1ec7p",type:"tel"}},noOfYearsBusiness:{meta:{title:"S\u1ed1 n\u0103m kinh doanh"}}}}}},Ke={type:Fe,on:{CONTINUE:{target:"income",cond:"isEmpty",actions:"updateStacks"},PREV:{actions:"back"},NEXT:{actions:"next"}},meta:{subTitle:"\u0110i\u1ea1 ch\u1ec9 n\u01a1i l\xe0m vi\u1ec7c",name:"workplace"},states:{isCurrent:{meta:{title:"Gi\u1ed1ng \u0111i\u1ea1 ch\u1ec9 hi\u1ec7n t\u1ea1i",type:"radio",values:[{label:"\u0110\xfang r\u1ed3i",value:"yes"},{label:"Kh\xf4ng ph\u1ea3i",value:"no"}]}},city:{meta:{title:"T\u1ec9nh/Th\xe0nh Ph\u1ed1",placeholder:"TP. H\u1ed3 Ch\xed Minh",autocomplete:"address-level2"}},district:{meta:{title:"Qu\u1eadn/ Huy\u1ec7n",placeholder:"Qu\u1eadn 4"}},ward:{meta:{title:"Ph\u01b0\u1eddng/X\xe3",placeholder:"Ph\u01b0\u1eddng 12"}},hamlet:{meta:{title:"H\u1ebbm",placeholder:"H\u1ebbm..."}},street:{meta:{title:" T\xean \u0110\u01b0\u1eddng",placeholder:"\u0110o\xe0n V\u0103n B\u01a1",autocomplete:"street-address"}},unitNo:{meta:{title:"S\u1ed1 nh\xe0",placeholder:"12"}},isRegular:{meta:{type:"radio",title:"\u0110\xe2y c\u0169ng l\xe0 \u0111\u1ecba ch\u1ec9 th\u01b0\u1eddng tr\xfa ?",values:[{label:"\u0110\xfang r\u1ed3i",value:"yes"},{label:"Kh\xf4ng ph\u1ea3i",value:"no"}]}}}},We={type:Fe,on:{CONTINUE:{target:"bankAccount",cond:"isEmpty",actions:"updateStacks"},PREV:{actions:"back"},NEXT:{actions:"next"}},meta:{subTitle:"N\xf3i th\xeam v\u1ec1 t\xecnh h\xecnh t\xe0i ch\xednh c\u1ee7a b\u1ea1n",name:"income"},states:{monthlyIncome:{meta:{title:"Thu nh\u1eadp b\xecnh qu\xe2n h\xe0ng th\xe1ng"}},monthlyExpense:{meta:{title:"Chi ph\xed c\xe1 nh\xe2n"}},noOfCurrentLoan:{meta:{title:"Kho\u1ea3n vay hi\u1ec7n c\xf3"}},noOfCreditCard:{meta:{title:"S\u1ed1 l\u01b0\u1ee3ng th\u1ebb t\xedn d\u1ee5ng",type:"number"}}}},$e={type:Fe,on:{CONTINUE:{target:"references",actions:"updateStacks"},PREV:{actions:"back"},NEXT:{actions:"next"}},meta:{subTitle:"\u0110\u1ec3 nh\u1eadn ti\u1ec1n nhanh nh\u1ea5t, vuio l\xf2ng cung c\u1ea5p ch\xednh x\xe1c th\xf4ng tin t\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n.",name:"bankAccount"},initial:"accountHolder",states:{accountHolder:{meta:{title:"Ch\u1ee7 t\xe0i kho\u1ea3n"}},accountNumber:{meta:{title:"S\u1ed1 t\xe0i kho\u1ea3n"}},bankName:{meta:{title:"Ng\xe2n h\xe0ng"}},branch:{meta:{title:"Chi nh\xe1nh"}},city:{meta:{title:"Th\xe0nh ph\u1ed1",autocomplete:"address-level2"}}}},Je={type:Fe,on:{CONTINUE:{target:"idCard",actions:"updateStacks"},PREV:{actions:"back"},NEXT:{actions:"next"}},initial:"first",meta:{title:"",name:"references"},states:{first:{type:Fe,meta:{title:"Th\xf4ng tin ng\u01b0\u1eddi tham chi\u1ebfu th\u1ee9 nh\u1ea5t"},initial:"title",states:{title:{meta:{title:"Danh x\u01b0ng",autocomplete:"honorific-prefix"}},fullName:{meta:{title:"H\u1ecd t\xean",autocomplete:"name"}},phoneNumber:{meta:{title:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",type:"tel"}},relationship:{meta:{title:"M\u1ed1i quan h\u1ec7"}}}},second:{type:Fe,meta:{title:"Th\xf4ng tin ng\u01b0\u1eddi tham chi\u1ebfu th\u1ee9 hai"},initial:"title",states:{title:{meta:{title:"Danh x\u01b0ng",autocomplete:"honorific-prefix"}},fullName:{meta:{title:"H\u1ecd t\xean",autocomplete:"name"}},phoneNumber:{meta:{title:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",type:"tel"}},relationship:{meta:{title:"M\u1ed1i quan h\u1ec7"}}}}}},Ye={type:Fe,on:{CONTINUE:{target:"idCardOCR",cond:"isEmpty",actions:"updateStacks"},PREV:{actions:"back"},NEXT:{actions:"next"}},meta:{title:"",name:"idCard"},states:{front:{meta:{title:"M\u1eb7t tr\u01b0\u1edbc CMND",type:"file"}},back:{meta:{title:"M\u1eb7t sau CMND",type:"file"}}}},Qe={invoke:{id:"id-ocr",src:xe,data:function(e){return e},onDone:"idCardConfirm"},on:{PREV:{actions:"back"},NEXT:{actions:"next"}}},Ze={type:Fe,on:{CONTINUE:{cond:"idValid",target:"driverLicense",actions:"updateStacks"},PREV:{actions:"back"},NEXT:{actions:"next"}},meta:{notice:"Xin ki\u1ec3m tra v\xe0 x\xe1c nh\u1eadn th\xf4ng tin c\xe1 nh\xe2n \u0111\u01b0\u1ee3c tr\xedch xu\u1ea5t t\u1eeb CMND v\xe0 vui l\xf2ng c\u1eadp nh\u1eadt n\u1ebfu c\xf3 sai l\u1ec7ch.",name:"idCardConfirm"},states:{name:{meta:{title:"H\u1ecd v\xe0 t\xean",placeholder:"Nguyen Van A",autocomplete:"name"}},id:{meta:{title:"S\u1ed1 CMND",placeholder:"2012019910"}},birthDate:{meta:{title:"Ng\xe0y sinh",placeholder:"01/12/1980",type:"date",autocomplete:"bday"}},birthPlace:{meta:{title:"N\u01a1i sinh",placeholder:"Ho Chi Minh",autocomplete:"address-level2"}},issueDate:{meta:{title:"Ng\xe0y c\u1ea5p",placeholder:"20/11/2020",type:"date"}}}},et={type:Fe,on:{CONTINUE:{target:"driverLicenseOCR",actions:"updateStacks"},PREV:{actions:"back"},NEXT:{actions:"next"}},meta:{title:"",name:"driverLicense"},states:{front:{meta:{title:"M\u1eb7t tr\u01b0\u1edbc b\u1eb1ng l\xe1i xe",type:"file"}},back:{meta:{title:"M\u1eb7t sau b\u1eb1ng l\xe1i xe",type:"file"}}}},tt={invoke:{id:"dl-ocr",src:De,data:function(e){return e},onDone:"selfie"},on:{PREV:{actions:"back"},NEXT:{actions:"next"}}},nt={id:"ocb_field",initial:"package",on:{POPSTATE:{actions:"updateActive"},UPDATE_AMOUNT:{actions:Object(ue.assign)({loanAmount:function(e,t){var n=t.value;return parseInt(n)}})},UPDATE_DURATION:{actions:Object(ue.assign)({loanDuration:function(e,t){var n=t.value;return parseInt(n)}})},CHANGE:{actions:Object(ue.assign)({monthlyPay:function(e,t){return it(e.loanAmount,e.loanDuration)}})},UPDATE_FORM_VALUE:{actions:"updateFormValue"}},states:{package:Be,primaryInfo:He,otp:{invoke:{id:"otp-machine",src:Ee,data:function(e){return e},onDone:"profile"},entry:Object(ue.send)("CODE",{to:"otp-machine"}),on:{PREV:{actions:"back"},NEXT:{actions:"next"}}},profile:Xe,address:qe,additionInfo:ze,job:Ge,workplace:Ke,income:We,bankAccount:$e,references:Je,idCard:Ye,idCardOCR:Qe,idCardConfirm:Ze,driverLicense:et,driverLicenseOCR:tt,selfie:{type:Fe,on:{CONTINUE:{target:"uploadSelfie",actions:"updateStacks"},PREV:{actions:"back"}},meta:{title:"",name:"selfie"},states:{image:{meta:{title:"Selfie",type:"file"}}}},uploadSelfie:{invoke:{id:"selfie-machine",src:Ne,data:function(e){return e},onDone:"#ocb.complete"}}}},at={fontSize:"20px",color:"#000000",letterSpacing:0,textShadow:"1px 1px 1px rgba(191,191,191,0.67)"},rt={guards:{packageValid:function(e,t){if(0===t.values.package.values.length)return!1;var n=t.values.package.values,a=n.loanAmount,r=n.loanDuration;return!(""===a||""===r)},otpValid:function(e,t){var n=t.values;if(0===n.primaryInfo.values.length)return!1;var a=n.primaryInfo.values,r=a.name,i=a.email,o=a.phoneNumber,c=a.purpose;return""!==r&&""!==i&&""!==o&&""!==c&&(!!V(i)&&!!R(o))},idValid:function(e,t){var n=t.values;if(0===n.idCardConfirm.values.length)return!1;var a=n.idCardConfirm.values,r=a.name,i=a.id,o=a.birthDate,c=a.birthPlace,l=a.issueDate;return""!==r&&""!==i&&""!==o&&""!==c&&""!==l&&(!!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"VN";return S[t].test(e.toLowerCase())}(i)&&!!function(e){var t=new Date(e).getTime(),n=(new Date).getTime();return Number((n-t)/I)<15}(l))},isEmpty:function(e,t){var n=t.values,a=Object.values(n)[0].values;return!(0===a.length||a.length>0&&a.indexOf("")>-1)}},actions:{updateStacks:Object(ue.assign)({stacks:function(e,t){var n=t.values;return[].concat(e.stacks,n)},currentIndex:function(e,t){t.values;return e.currentIndex+1}}),back:Object(ue.assign)({currentIndex:function(e,t){t.values;return e.currentIndex-1}}),next:Object(ue.assign)({currentIndex:function(e,t){t.values;return e.currentIndex+1}}),updateActive:Object(ue.assign)({currentIndex:function(e,t){var n=t.dest,a=e.stacks.map((function(e){return Object.keys(e)[0]}));return a.indexOf(n)>-1?a.indexOf(n):a.length}}),updateFormValue:Object(ue.assign)({formValue:function(e,t){var n=e.formValue,a=t.field,r=t.value,i=a.split("."),o=i.length,c=i[o-1],l=i[o-2];return n[l]=Ie({},n[l],Object(u.a)({},c,r)),n}})},activities:{},services:{}},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ae,n=Re,a=Le,r=Me,i=e*n,o=i*a,c=i+o,l=r/12;return O(l,t,c)},ot=Object(se.a)({id:"ocb",initial:"welcome",context:{formValue:{},monthlyPay:it(),currentIndex:0,stacks:[],loanAmount:Ue,loanDuration:Ae,otp:"",isAlreadyConfirmed:!1},meta:{primaryColor:"#008C44",secondaryColor:"#063342",backgroundColor:"#f1f1f1",secondaryBackgroundColor:"#FFFFFF",textColor:"#FFFFFF",disableColor:"#DFDEDE",button:{fontSize:"18px",borderRadius:"10px",width:"100%",margin:"0",border:"none",fontWeight:"bold"},title:at,subTitle:Ie({},at,{fontSize:"13px",textShadow:"none"})},states:{welcome:{on:{LOGIN:"field"},meta:{name:"welcome",brandName:"COM-B",usp:"Vay ti\xeau d\xf9ng, vay ngay COM-B",advantages:["Kh\xf4ng c\u1ea7n th\u1ebf ch\u1ea5p t\xe0i s\u1ea3n","Th\u1ee7 t\u1ee5c \u0111\u01a1n gi\u1ea3n, gi\u1ea3i ng\xe2n t\u1ed1c \u0111\u1ed9 trong v\xf2ng 48h l\xe0m vi\u1ec7c","Th\u1eddi gian linh \u0111\u1ed9ng t\u1eeb 3 - 36 th\xe1ng","L\xe3i su\u1ea5t c\u1ea1nh tranh","Ph\xf9 h\u1ee3p v\u1edbi \u0111a d\u1ea1ng \u0111\u1ed1i t\u01b0\u1ee3ng kh\xe1ch h\xe0ng t\u1eeb 20 - 65 tu\u1ed5i"],content:"COM-B tin t\u01b0\u1edfng r\u1eb1ng s\u1ebd mang \u0111\u1ebfn cho Kh\xe1ch h\xe0ng nh\u1eefng s\u1ea3n ph\u1ea9m t\xe0i ch\xednh ti\xeau d\xf9ng t\u1ed1i \u01b0u nh\u1ea5t. T\u1ea5t c\u1ea3 c\xe1c kh\xe1ch h\xe0ng c\xf3 nhu c\u1ea7u vay ti\xeau d\xf9ng khi \u0111\u1ebfn v\u1edbi COM-B s\u1ebd \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 t\u1eadn t\xecnh th\xf4ng qua \u0111\u1ed9i ng\u0169 b\xe1n h\xe0ng chuy\u1ec7n nghi\u1ec7p r\u1ed9ng kh\u1eafp c\u1ea3 n\u01b0\u1edbc.",logoUrl:"https://com-b.vn/Cms_Data/Sites/ComB/Themes/comb/images/logo.png",backgroundImage:"https://b.f9.group.zp.zdn.vn/3927480028018378368/f1a16a0b1eaae7f4bebb.jpg"}},field:nt,complete:{on:{LOGOUT:"welcome"}},invalid:{on:{LOGOUT:"welcome"}}}},rt),ct=/(\d+(\.\d*)?)rvh(?!\w)/,lt={height:"100rvh",display:"flex",alignItems:"center"},st=function(e,t){!function(e,t){if("object"!==typeof e&&void 0!==e||Array.isArray(e))throw Error("style (the first argument) must be an object or undefined");if("number"!==typeof t||t<0)throw Error("Second argument (windowHeight) must be a non negative number")}(e,t);var n=void 0===e?lt:e,a={};return Object.keys(n).forEach((function(e){a[e]="string"===typeof n[e]?function(e,t){return e.replace(ct,(function(e,n){return"".concat(t*parseFloat(n)/100,"px")}))}(n[e],t):n[e]})),a};function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mt={opacity:1,zIndex:999,backgroundColor:"white",height:"100vh",width:"100vw",position:"fixed",top:0,left:0,display:"flex",justifyContent:"center",alignItems:"center"},ht=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loaded:!1},n.ref=void 0,n.componentDidMount=function(){window.requestAnimationFrame(n.checkReadyState)},n.checkReadyState=function(){"complete"===document.readyState&&n.ref?(n.ref.style.opacity="0",setTimeout((function(){n.setState({loaded:!0}),n.ref=null}),n.props.fadeDuration||200)):window.requestAnimationFrame(n.checkReadyState)},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.style,a=t.className,i=t.children,o=t.fadeDuration,c=r.a.Children.map(i,(function(e){return"PreloadingPlaceholder"===e.type.displayName?null:e}));return r.a.createElement(r.a.Fragment,null,c,this.state.loaded?null:r.a.createElement("div",{style:dt({},mt,{transition:"opacity ".concat(o||.2,"s ease")},n),className:a,ref:function(t){e.ref=t}},r.a.createElement("div",{className:"loadicon loader show"},r.a.createElement("svg",{className:"load-present",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},r.a.createElement("path",{className:"stroke-line",d:"M10.2,54.4c1.1,9.5,5.5,17.9,11.8,24c-0.7-2-0.9-4.1-0.5-5.9 c1.4-5.7,7.1-9.5,15-10.7V34.7C15.6,31.1,8.8,44.2,10.2,54.4"}),r.a.createElement("path",{className:"stroke-line",d:"M89.9,45.6c-1.1-9.5-5.5-17.9-11.8-24c0.7,1.8,0.9,3.9,0.5,5.9 c-1.4,5.7-7.1,9.5-15,10.7v27.2C84.4,68.9,91,55.6,89.9,45.6"}),r.a.createElement("path",{className:"stroke-line",d:"M10.9,41c5.5-7.5,15.3-11.8,33.3-6.6C75.8,43.3,86,22.7,68,14.3 C62.5,11.6,56.4,10,50,10C30.9,10,15,23.4,10.9,41"}),r.a.createElement("path",{className:"stroke-line",d:"M89.2,58.7c-5.5,7.5-15.3,11.8-33.3,6.6c-31.9-8.8-42.1,11.8-24.1,20.4 c5.5,2.7,11.6,4.3,18,4.3C69.2,89.8,85.1,76.6,89.2,58.7"})))))}}]),t}(r.a.Component);l.a({dsn:"https://609ae253603a43fe90b8d3f1c87d021e@sentry.io/1801688"});var pt,ft=localStorage.getItem("stored-state");ft&&(pt=JSON.parse(ft));var gt=function(e){var t=e.current,n=e.service;return t.matches("welcome")?r.a.createElement(bt,null,r.a.createElement("div",{style:{textAlign:"left",padding:"0 20px"}},r.a.createElement("img",{src:k(t,n).logoUrl,alt:k(t,n).brandName}),r.a.createElement("h3",null,k(t,n).usp),r.a.createElement("ul",null,k(t,n).advantages.map((function(e,t){return r.a.createElement("li",{key:t},e)}))),r.a.createElement("p",null,k(t,n).content),r.a.createElement(K,{onClick:function(){n.send("LOGIN")},name:"\u0110\u0103ng k\xfd ngay",current:t,service:n}))):null},bt=function(e){var t=Object(a.useState)({}),n=Object(c.a)(t,2),i=n[0],o=n[1];return Object(a.useEffect)((function(){var e=function(){var e=window.innerHeight,t=st(void 0,e);o(t)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),r.a.createElement("div",Object.assign({},e,{style:i}))},vt=function(e){var t=e.current,n=e.service;return t.matches("complete")?r.a.createElement(bt,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Ho So vay cua ban da duoc gui den COM-B"),r.a.createElement("p",null,"Yeu cau vay cua ban da duoc gui den doi tac cho vay. Ban se nhan duoc email tom tat trong vai phut."),r.a.createElement("div",null,t.context?JSON.stringify(t.context.formValue):""),r.a.createElement(K,{onClick:function(){localStorage.removeItem("stored-state"),window.location.reload(),n.send("LOGOUT")},name:"Log out",service:n}))):null},yt=function(e){var t=e.current,n=e.service;return t.matches("invalid")?r.a.createElement(bt,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Invalid!"),r.a.createElement(K,{onClick:function(){localStorage.removeItem("stored-state"),window.location.reload(),n.send("LOGOUT")},name:"Log out",service:n}))):null},Ot=function(){var e=Object(s.useMachine)(ot,{state:pt,immediate:!1}),t=e[2],n=e[0],i=e[1],o=Object(a.useState)({}),l=Object(c.a)(o,2),u=l[0],d=l[1],m=Object(a.useState)([]),h=Object(c.a)(m,2),p=h[0],f=h[1];return Object(a.useEffect)((function(){t.onTransition((function(e){try{y(e);var n=e.event.type,a=Object.values(e.children);if(a&&a.length?(f(a),a[0].subscribe((function(e){d(e)}))):f([]),e.changed)if(["NEXT","PREV"].indexOf(n)>-1)"NEXT"===n?window.history.forward():window.history.back();else if("POPSTATE"!==n){var r=P(e,t);r&&""!==r&&window.history.pushState(null,"DO "+(P(e,t)||""),"/"+(P(e,t)||""))}}catch(i){console.log(i)}}))}),[t]),Object(a.useEffect)((function(){window.onpopstate=function(e){var t=window.location.pathname;if(""!==t){var n=t.replace("/","");i("POPSTATE",{dest:n})}}}),[i]),r.a.createElement(ht,null,r.a.createElement("div",{className:"App",style:{display:"flex",flexDirection:"column"}},r.a.createElement("header",{className:"App-header",style:{flex:1,alignItems:n.matches("field")?"flex-end":"center"}},r.a.createElement("div",{className:"main"},n.context.stacks.length>0?n.context.stacks.map((function(e,a){"undefined"===typeof Object.values&&(Object.values=function(e){return Object.keys(e).map((function(t){return e[t]}))});var i=Object.values(e)[0].state;return r.a.createElement(le,{service:t,current:n,history:i,key:a,index:a})})):null,r.a.createElement(gt,{service:t,current:n}),p&&p.length?r.a.createElement(ie,{service:p[0],current:u,isChild:!0}):r.a.createElement(ie,{service:t,current:n}),r.a.createElement(vt,{service:t,current:n}),r.a.createElement(yt,{service:t,current:n})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Ot,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[52,1,2]]]);
//# sourceMappingURL=main.a43d8407.chunk.js.map